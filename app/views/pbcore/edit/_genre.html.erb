<%
  # On create: genre_counter and genre variables come from the controller
  # On edit: they come from the defaults in the render call
  genre_name = get_values_from_datastream(@document_fedora,'descMetadata', [{:genre=>genre_counter}]).first
  base_id = "genre_#{genre_counter}"
%>

<legend>Genre:</legend>
<dl class="genre fieldset" id="<%= base_id %>">

  <%= display_field([{:genre=>genre_counter}],       { :name=>"Genre Name" }) %>
  <%= display_field([{:genre=>genre_counter}, :ref], { :name=>"Genre Ref" }) %>

</dl>