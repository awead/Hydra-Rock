<%
  # On create: topic_counter and topic variables come from the controller
  # On edit: they come from the defaults in the render call
  topic_name = get_values_from_datastream(@document_fedora,'descMetadata', [{:topic=>topic_counter}]).first
  base_id = "topic_#{topic_counter}"
%>

<legend>Topic:</legend>
<dl class="topic fieldset" id="<%= base_id %>">

  <%= display_field([{:topic=>topic_counter}],       { :name=>"Topic Name" }) %>
  <%= display_field([{:topic=>topic_counter}, :ref], { :name=>"Topic Ref" }) %>

</dl>